body { margin:0; font-family: system-ui, Arial; }
.center { max-width: 360px; margin: 10vh auto; display: grid; gap: 8px; }
.center input { padding: 8px; }
.center button { padding: 8px; }
button:disabled,
input:disabled {
  opacity: .6;
  cursor: not-allowed;
}
.chat { display: grid; grid-template-rows: auto 1fr auto; height: 100vh; }
.topbar { display:flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-bottom: 1px solid #ddd; gap: 12px; }
.topbar small { color: #6b7280; font-size: 12px; }
.topbar-actions { display: flex; align-items: center; gap: 12px; }
.topbar-actions .roles { display:flex; flex-direction: column; font-size: 12px; color:#4b5563; }
.topbar-actions .roles input { padding: 4px 6px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 13px; min-width: 120px; }
.topbar-actions .upload { position: relative; overflow: hidden; display: inline-flex; align-items: center; justify-content: center; border: 1px solid #2563eb; color: #2563eb; padding: 6px 10px; border-radius: 6px; cursor: pointer; font-size: 13px; }
.topbar-actions .upload input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
.topbar-actions .upload.is-uploading { color: #1d4ed8; border-style: dashed; }
.topbar button { padding: 6px 12px; border: 1px solid #ef4444; color: #ef4444; border-radius: 6px; background: transparent; cursor: pointer; }
.history { padding: 12px; overflow-y: auto; display: grid; gap: 10px; }
.msg { max-width: min(70%, 520px); box-shadow: 0 1px 2px rgba(15, 23, 42, 0.08); }
.msg.user { justify-self: end; background: #eef; padding: 8px 10px; border-radius: 10px; }
.msg.assistant { justify-self: start; background: #efe; padding: 8px 10px; border-radius: 10px; }
.inputbar { display:flex; gap:8px; padding: 8px; border-top: 1px solid #ddd; }
.inputbar input { flex:1; padding: 8px; }
.typing { opacity: .7; font-style: italic; }
.sources { margin-top: 6px; font-size: 12px; opacity: .8; }
.error-banner { margin: 0 12px 12px; padding: 10px; border-radius: 8px; background: #fef3c7; color: #92400e; border: 1px solid #fcd34d; font-size: 14px; }
.error { color: #b91c1c; font-size: 14px; }
